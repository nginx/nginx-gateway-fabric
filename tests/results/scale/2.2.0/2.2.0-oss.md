# Results

## Test environment

NGINX Plus: false

NGINX Gateway Fabric:

- Commit: 9fbef714ea22a35c4f1a8c97bd5b4e406ae0c1e9
- Date: 2025-10-21T10:57:37Z
- Dirty: false

GKE Cluster:

- Node count: 12
- k8s version: v1.33.5-gke.1080000
- vCPUs per node: 16
- RAM per node: 65851524Ki
- Max pods per node: 110
- Zone: us-west1-b
- Instance Type: n2d-standard-16

## Summary:

2.2.0 shows a trade-off pattern:

- Reliability improved significantly: 80-90% fewer NGF errors in listener tests
- Performance degraded: Processing times increased 60-160% across most tests
- Latency impact: 2-12% increases in HTTP match latency
- New error types: NGINX errors appeared where there were none before
- In 2.1.0 we saw "tests which previously errored saw number of errors increase" - this has been reversed in 2.2.0, with dramatic error reductions.
- However, this appears to come at a performance cost, particularly in event batch processing time.

## Test TestScale_Listeners

### Event Batch Processing

- Total: 258
- Average Time: 13ms
- Event Batch Processing distribution:
	- 500.0ms: 257
	- 1000.0ms: 258
	- 5000.0ms: 258
	- 10000.0ms: 258
	- 30000.0ms: 258
	- +Infms: 258

### Errors

- NGF errors: 2
- NGF container restarts: 0
- NGINX errors: 5
- NGINX container restarts: 0

### Graphs and Logs

See [output directory](./TestScale_Listeners) for more details.
The logs are attached only if there are errors.

## Test TestScale_HTTPSListeners

### Event Batch Processing

- Total: 283
- Average Time: 12ms
- Event Batch Processing distribution:
	- 500.0ms: 281
	- 1000.0ms: 283
	- 5000.0ms: 283
	- 10000.0ms: 283
	- 30000.0ms: 283
	- +Infms: 283

### Errors

- NGF errors: 4
- NGF container restarts: 0
- NGINX errors: 2
- NGINX container restarts: 0

### Graphs and Logs

See [output directory](./TestScale_HTTPSListeners) for more details.
The logs are attached only if there are errors.

## Test TestScale_HTTPRoutes

### Event Batch Processing

- Total: 1009
- Average Time: 147ms
- Event Batch Processing distribution:
	- 500.0ms: 956
	- 1000.0ms: 1009
	- 5000.0ms: 1009
	- 10000.0ms: 1009
	- 30000.0ms: 1009
	- +Infms: 1009

### Errors

- NGF errors: 2
- NGF container restarts: 0
- NGINX errors: 0
- NGINX container restarts: 0

### Graphs and Logs

See [output directory](./TestScale_HTTPRoutes) for more details.
The logs are attached only if there are errors.

## Test TestScale_UpstreamServers

### Event Batch Processing

- Total: 106
- Average Time: 179ms
- Event Batch Processing distribution:
	- 500.0ms: 92
	- 1000.0ms: 106
	- 5000.0ms: 106
	- 10000.0ms: 106
	- 30000.0ms: 106
	- +Infms: 106

### Errors

- NGF errors: 2
- NGF container restarts: 0
- NGINX errors: 0
- NGINX container restarts: 0

### Graphs and Logs

See [output directory](./TestScale_UpstreamServers) for more details.
The logs are attached only if there are errors.

## Test TestScale_HTTPMatches

```text
Requests      [total, rate, throughput]         29999, 1000.01, 999.97
Duration      [total, attack, wait]             30s, 29.999s, 1.019ms
Latencies     [min, mean, 50, 90, 95, 99, max]  707.321µs, 1.025ms, 976.47µs, 1.14ms, 1.206ms, 1.426ms, 26.344ms
Bytes In      [total, mean]                     4799840, 160.00
Bytes Out     [total, mean]                     0, 0.00
Success       [ratio]                           100.00%
Status Codes  [code:count]                      200:29999  
Error Set:
```
```text
Requests      [total, rate, throughput]         30000, 1000.04, 1000.00
Duration      [total, attack, wait]             30s, 29.999s, 1.024ms
Latencies     [min, mean, 50, 90, 95, 99, max]  812.293µs, 1.079ms, 1.049ms, 1.214ms, 1.295ms, 1.474ms, 13.759ms
Bytes In      [total, mean]                     4800000, 160.00
Bytes Out     [total, mean]                     0, 0.00
Success       [ratio]                           100.00%
Status Codes  [code:count]                      200:30000  
Error Set:
```
