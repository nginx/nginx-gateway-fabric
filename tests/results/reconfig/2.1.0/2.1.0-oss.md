# Results

## Test environment

NGINX Plus: false

NGINX Gateway Fabric:

- Commit: 43424f7eafc27e3fed07cef693614a7f389a3359
- Date: 2025-08-12T16:35:50Z
- Dirty: false

GKE Cluster:

- Node count: 12
- k8s version: v1.33.2-gke.1240000
- vCPUs per node: 16
- RAM per node: 65851524Ki
- Max pods per node: 110
- Zone: us-west1-b
- Instance Type: n2d-standard-16

## Summary:

- Time to ready increased. Increase is more exacerbated when NumResources is 150. 
- Jumbled configuration issues still exist as seen in 2.0 results.

## Test 1: Resources exist before startup - NumResources 30

### Time to Ready

Time To Ready Description: From when NGF starts to when the NGINX configuration is fully configured
- TimeToReadyTotal: 15s

### Event Batch Processing

- Event Batch Total: 10
- Event Batch Processing Average Time: 3ms
- Event Batch Processing distribution:
	- 500.0ms: 10
	- 1000.0ms: 10
	- 5000.0ms: 10
	- 10000.0ms: 10
	- 30000.0ms: 10
	- +Infms: 10

### NGINX Error Logs

## Test 1: Resources exist before startup - NumResources 150

### Time to Ready

Time To Ready Description: From when NGF starts to when the NGINX configuration is fully configured
- TimeToReadyTotal: 21s

### Event Batch Processing

- Event Batch Total: 9
- Event Batch Processing Average Time: 8ms
- Event Batch Processing distribution:
	- 500.0ms: 9
	- 1000.0ms: 9
	- 5000.0ms: 9
	- 10000.0ms: 9
	- 30000.0ms: 9
	- +Infms: 9

### NGINX Error Logs

## Test 2: Start NGF, deploy Gateway, wait until NGINX agent instance connects to NGF, create many resources attached to GW - NumResources 30

### Time to Ready

Time To Ready Description: From when NGINX receives the first configuration created by NGF to when the NGINX configuration is fully configured
- TimeToReadyTotal: 24s

### Event Batch Processing

- Event Batch Total: 309
- Event Batch Processing Average Time: 11ms
- Event Batch Processing distribution:
	- 500.0ms: 309
	- 1000.0ms: 309
	- 5000.0ms: 309
	- 10000.0ms: 309
	- 30000.0ms: 309
	- +Infms: 309

### NGINX Error Logs
2025/08/12 17:03:03 [emerg] 8#8: invalid number of arguments in "zone" directive in /etc/nginx/conf.d/http.conf:174
2025/08/12 17:03:05 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:935
2025/08/12 17:03:06 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:1822
2025/08/12 17:03:07 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:2158
2025/08/12 17:03:07 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:2396
2025/08/12 17:03:09 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:3348

## Test 2: Start NGF, deploy Gateway, wait until NGINX agent instance connects to NGF, create many resources attached to GW - NumResources 150

### Time to Ready

Time To Ready Description: From when NGINX receives the first configuration created by NGF to when the NGINX configuration is fully configured
- TimeToReadyTotal: 128s

### Event Batch Processing

- Event Batch Total: 1460
- Event Batch Processing Average Time: 17ms
- Event Batch Processing distribution:
	- 500.0ms: 1460
	- 1000.0ms: 1460
	- 5000.0ms: 1460
	- 10000.0ms: 1460
	- 30000.0ms: 1460
	- +Infms: 1460

### NGINX Error Logs
2025/08/12 17:07:27 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:461
2025/08/12 17:07:28 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:1054
2025/08/12 17:07:29 [emerg] 8#8: pread() returned only 0 bytes instead of 4095 in /etc/nginx/conf.d/http.conf:1397
2025/08/12 17:07:32 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:3131
2025/08/12 17:07:32 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:3369
2025/08/12 17:07:33 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:3790
2025/08/12 17:07:34 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:4504
2025/08/12 17:07:36 [emerg] 8#8: pread() returned only 0 bytes instead of 4095 in /etc/nginx/conf.d/http.conf:473
2025/08/12 17:07:36 [emerg] 8#8: pread() returned only 0 bytes instead of 4086 in /etc/nginx/conf.d/http.conf:2080
2025/08/12 17:07:37 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:5932
2025/08/12 17:07:37 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:6051
2025/08/12 17:07:37 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:6344
2025/08/12 17:07:38 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:6701
2025/08/12 17:07:39 [emerg] 8#8: pread() returned only 0 bytes instead of 4079 in /etc/nginx/conf.d/http.conf:2795
2025/08/12 17:07:40 [emerg] 8#8: pread() returned only 0 bytes instead of 4095 in /etc/nginx/conf.d/http.conf:4649
2025/08/12 17:07:41 [emerg] 8#8: duplicate upstream "namespace62_coffeenamespace62_80" in /etc/nginx/conf.d/http.conf:7876
2025/08/12 17:07:42 [emerg] 8#8: pread() returned only 0 bytes instead of 4095 in /etc/nginx/conf.d/http.conf:7686
2025/08/12 17:07:42 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:8745
2025/08/12 17:07:42 [emerg] 8#8: pread() returned only 0 bytes instead of 4092 in /etc/nginx/conf.d/http.conf:2628
2025/08/12 17:07:42 [emerg] 8#8: unexpected end of file, expecting "}" in /etc/nginx/conf.d/http.conf:9146
2025/08/12 17:07:43 [emerg] 8#8: unexpected end of file, expecting "}" in /etc/nginx/conf.d/http.conf:9265
2025/08/12 17:07:43 [emerg] 8#8: pread() returned only 0 bytes instead of 4093 in /etc/nginx/conf.d/http.conf:6150
2025/08/12 17:07:43 [emerg] 8#8: pread() returned only 0 bytes instead of 4086 in /etc/nginx/conf.d/http.conf:7337
2025/08/12 17:07:44 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:9860
2025/08/12 17:07:44 [emerg] 8#8: pread() returned only 0 bytes instead of 4088 in /etc/nginx/conf.d/http.conf:9106
2025/08/12 17:07:46 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:11276
2025/08/12 17:07:48 [emerg] 8#8: pread() returned only 0 bytes instead of 4090 in /etc/nginx/conf.d/http.conf:2382
2025/08/12 17:07:48 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:12868
2025/08/12 17:07:49 [emerg] 8#8: pread() returned only 0 bytes instead of 4092 in /etc/nginx/conf.d/http.conf:2416
2025/08/12 17:07:50 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:13701
2025/08/12 17:07:50 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:13960
2025/08/12 17:07:51 [emerg] 8#8: pread() returned only 0 bytes instead of 4095 in /etc/nginx/conf.d/http.conf:5827
2025/08/12 17:07:51 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:14620
2025/08/12 17:07:52 [emerg] 8#8: pread() returned only 0 bytes instead of 4095 in /etc/nginx/conf.d/http.conf:8849
2025/08/12 17:07:53 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:15560
2025/08/12 17:07:53 [emerg] 8#8: pread() returned only 0 bytes instead of 4046 in /etc/nginx/conf.d/http.conf:1758
2025/08/12 17:07:56 [emerg] 8#8: unexpected end of file, expecting ";" or "}" in /etc/nginx/conf.d/http.conf:16676
